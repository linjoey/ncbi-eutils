<!DOCTYPE html>
<html>
<head lang="en">
  <meta charset="UTF-8">
  <title></title>

</head>
<body>

<pre id="msg"></pre>

<script src="../ncbi-eutils.js"></script>
<script>
  var eutils = require('ncbi-eutils');
  console.log(eutils.version);


//  eutils.einfo('gene')
//    .then(function(d){console.log(d)})
//    .catch(function(e) {console.log('error', e)});

//  eutils.esearch({db:'gene', term: 'ltf[sym] AND human[orgn]'})
//    .then(function(d){console.log(d)})
//    .catch(function (e) {console.log('error', e)});

//  eutils.esearch({db:'gene', term: 'foxp2[sym] AND human[orgn]'})
//    .then(function(d){
//      d.retstart = 1;
//      return eutils.esummary(d);
//    })
//    .then(function(d){console.log(d)})
//    .catch(function (e) {console.log('error', e)});

//  eutils.esearch({db:'gene', term:'X[chr] AND 8810001[CPOS]:18179999[CPOS] AND human[ORGN]'})
//    .then(eutils.esummary)
//    .then(function(d) {console.log(d)})
//    .catch(function(d){console.log(d)})
//
//  eutils._esummary({db:'gene', id:"93986"})().then(function(d){console.log(d)});


//  eutils.esummary({db:'gene', id:['4057', '280846']}).then(function(d) {
//    console.log(d)
//  });

//    eutils.efetch({db:'pubmed', id:['17284678','9997'], retmode:'xml'}).then(function(d) {
//      console.log(d)
//    });

//  eutils.elink({dbfrom: 'protein', dbto:'gene', id : ['15718680','157427902']})
//    .then(eutils.esummary)
//    .then(function(d){console.log(d)})
//    .catch(function(d) {console.log('d',d)});

  eutils.esearch({db: 'protein', term: '15718680[UID]'})
    .then(function (d) {
      d.dbto = 'gene';
      return eutils.elink(d);
    })
    .then(eutils.esummary)
    .then(function (d) {console.log(d)})
    .catch(function (d) {console.log(d)});

//  eutils.search({db: 'gene', term:'ltf AND human[orgn]'}).then(function(d) {
//    console.log(d);
//  });

//  var t = eutils.buildSearchTerm('1', 'chr')
//    .range('AND', [1,100000], 'CPOS')
//    .and('human', 'ORGN')
//
//  eutils.search('gene', t).then(function(d){console.log(d)});

//  var start = new Date().getTime();
//  eutils.esearch({db:'gene', term:'X[chr] AND 34738063[CPOS]:35304610[CPOS] AND human[ORGN]'})
//    .then(eutils.efetch)
//    .then(function(d) {
//      var end = new Date().getTime();
//      var time = end - start;
//      console.log('time', time)
//      console.log(d)
//    }
//  ).catch(function(e) {console.log(e)});


</script>
</body>
</html>